<fieldset style="margin:10px 0; padding:10px;">
  <legend>Equipment Details</legend>

  <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
    <label>
      Category
      <select name="system.category">
        {{#each equipmentCategories as |c|}}
          <option value="{{c}}" {{#if (eq ../system.category c)}}selected{{/if}}>{{c}}</option>
        {{/each}}
      </select>
    </label>

    <label style="display:flex; gap:10px; align-items:center; padding-top:22px;">
      <input type="checkbox" name="system.equipped" {{#if system.equipped}}checked{{/if}} />
      Equipped
    </label>

    <label>
      Quantity
      <input type="number" name="system.quantity" value="{{system.quantity}}" min="0" />
    </label>

    <label>
      Slot
      <input type="text" name="system.slot" value="{{system.slot}}" placeholder="e.g. mainhand, offhand, head, ring" />
    </label>

    <label style="display:flex; gap:10px; align-items:center; padding-top:22px;">
      <input type="checkbox" name="system.stackable" {{#if system.stackable}}checked{{/if}} />
      Stackable
    </label>

    {{!-- Weapon-only fields --}}
    {{#if (eq system.category "weapon")}}
      <label>
        Weapon Type
        <input
          type="text"
          name="system.weapon.type"
          value="{{system.weapon.type}}"
          placeholder="e.g. sword, axe, bow, unarmed"
        />
      </label>

      <label>
        Damage
        <input
          type="text"
          name="system.weapon.damage"
          value="{{system.weapon.damage}}"
          placeholder="e.g. 1d6, 2 per success, etc."
        />
      </label>

      <label>
        Range
        <input
          type="text"
          name="system.weapon.range"
          value="{{system.weapon.range}}"
          placeholder="e.g. melee, 30ft, 10 squares"
        />
      </label>
    {{/if}}
  </div>

  {{#if (eq system.category "weapon")}}
    <p style="opacity:0.8; margin:10px 0 0;">
      Weapon Type is used to validate Special Attacks (Talents) that require a specific weapon type.
    </p>
  {{/if}}
</fieldset>

<fieldset style="margin:10px 0; padding:10px;">
  <legend>Bonuses (JSON for now)</legend>
  <textarea name="system.bonuses" rows="6">{{json system.bonuses}}</textarea>
  <p style="opacity:0.75; margin:6px 0 0;">
    Temporary: this is stored as an object. Later weâ€™ll replace this with structured bonus rows.
  </p>
</fieldset>

<fieldset style="margin:10px 0; padding:10px;">
  <legend>Modifiers</legend>

  <p style="opacity:0.8; margin:0 0 10px;">
    Modifiers define how this Equipment affects attributes, resources,
    derived stats, or skills. Editing UI will be added later.
  </p>

  <pre style="white-space:pre-wrap; background:#111; color:#ddd; padding:8px; border-radius:4px;">{{json system.modifiers}}</pre>
</fieldset>
